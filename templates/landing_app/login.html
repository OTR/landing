<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Login with Telegram</title>
</head>
<body>
<h1>Telegram Auth</h1>
<p>Нажмите кнопку "Log in with Telegram"</p>
<p>Перейдите в ваше приложение Telegram и в далоге с пользователем Telegram нажмите кнопку "Confirm"</p>

<script async src="https://telegram.org/js/telegram-widget.js?22"
        data-telegram-login="{{ BOT_USERNAME }}"
        data-size="large"
        data-auth-url="http://{{ HOSTNAME }}/auth/complete/telegram/"

        data-request-access="write"
></script>
<!--data-onauth="onTelegramAuth(user)"-->
<script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
  }
</script>

</body>
</html>
